<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adger</title>
    <link rel="icon" href="logo.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">

    <!-- بيانات Open Graph -->
    <meta property="og:title" content="Adger - التسوق الإلكتروني">
    <meta property="og:description" content="مرحبًا بك في أدجر، وجهتك الأولى للتسوق الإلكتروني حيث تجد كل ما تبحث عنه بأسعار تنافسية وجودة عالية.">
    <meta property="og:image" content="https://i.postimg.cc/bYk5FR3Q/2024-10-24-13-27-28-da2d3af5.jpg">
    <meta property="og:url" content="https://adger-saifeddine.github.io/adger/">
    <meta property="og:type" content="website">

    <!-- بيانات منظمة Schema.org -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Adger",
      "url": "https://adger-saifeddine.github.io/adger/",
      "logo": "https://i.postimg.cc/bYk5FR3Q/2024-10-24-13-27-28-da2d3af5.jpg"
    }
    </script>

    <!-- نص برمجي لتغيير الفيكون بناءً على نوع الجهاز -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        function isDesktop() {
            var userAgent = navigator.userAgent.toLowerCase();
            return userAgent.includes('windows') || userAgent.includes('macintosh') || userAgent.includes('linux') && !userAgent.includes('android');
        }
        if (isDesktop()) {
            document.querySelector('link[rel="icon"]').href = 'logo2.png';
        }
    });
    </script>
</head>
<body>

</body>
</html>



</body>
</html>

    <style>
        body {
            font-family: Arial, sans-serif;
            direction: rtl;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            background-color: #f4f4f4;
        }

        .line {
            width: 100%;
            height: 8px;
            background-color: #eeeeee;
        }
        
        .gallery {
            display: flex;
            align-items: flex-start;
            flex-direction: row-reverse;
            margin-top: 20px;
            position: relative;
        }

        .main-media {
            margin-left: 20px;
            position: relative;
        }

        .main-media img, .main-media video {
            width: 400px;
            height: 400px;
            border: 2px solid #ccc;
            border-radius: 10px;
            display: block;
        }

        .main-media img {
            object-fit: cover;
        }

        .main-media video {
            object-fit: contain;
        }

        .main-media video:fullscreen {
            border: none;
        }

        /* الصورة الرمادية البديلة أثناء التحميل */
        .placeholder-image {
            width: 400px;
            height: 400px;
            background-color: #fafafa; /* لون رمادي فاتح قريب من الأبيض */
            border: 2px solid #ccc;
            border-radius: 10px;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 5; /* لتظهر فوق الصورة الأصلية أثناء التحميل */
        }

        .thumbnails {
            display: flex;
            flex-direction: column;
            max-height: 400px;
            overflow-y: scroll;
            padding-left: 10px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .thumbnails::-webkit-scrollbar {
            display: none;
        }

        .thumbnail {
            margin: 10px 0;
            cursor: pointer;
            border: 2px solid #ccc;
            border-radius: 1px;
            padding: 0;
            position: relative;
            width: 66px;
            height: 66px;
            box-sizing: border-box;
        }

        .thumbnail.loading {
            background-color: #fafafa; /* لون رمادي فاتح قريب من الأبيض */
        }
        
        .thumbnail img, .thumbnail video {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: cover;
            margin: 0;
            padding: 0;
        }

        .thumbnail.active {
            border-color: #ff0000;
        }

        .thumbnail.loading::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-top-color: #888;
            border-radius: 50%;
            animation: spin 1s infinite linear;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .play-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .play-icon svg {
            width: 16px;
            height: 16px;
            fill: white;
        }

        .share-button {
            position: absolute;
            left: 11px;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .share-button.bottom {
            bottom: 11px;
        }

        .share-button.top {
            top: 10px;
            display: none;
        }

        .share-button svg {
            width: 24px;
            height: 24px;
            color: #000;
        }

        @media (max-width: 555px) {
            .gallery {
                flex-direction: column;
                align-items: center;
                margin-top: 22px;
                margin-right: 1px;
            }

            .main-media {
                margin-left: 0;
                margin-bottom: 20px;
            }

            .main-media img, .main-media video {
                width: 311px;
                height: 311px;
            }

            .placeholder-image {
                width: 311px;
                height: 311px;
            }

            .thumbnails {
                flex-direction: row;
                max-height: none;
                overflow-x: auto;
                overflow-y: hidden;
                padding-left: 0;
                width: 311px;
                white-space: nowrap;
                gap: 10px;
            }

            .thumbnail {
                margin: 0;
                flex: 0 0 auto;
                width: 65px;
                height: 65px;
            }
        }

        .media-counter {
            position: absolute;
            font-family: 'Cairo', sans-serif;
            bottom: 12px;
            right: 90px;
            background-color: rgba(255, 255, 255, 0.767);
            padding: 2px 12px;
            border-radius: 15px;
            font-size: 13px;
            direction: rtl;
            cursor: pointer;
            display: none; /* مخفية افتراضيًا */
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            -webkit-tap-highlight-color: transparent; /* إزالة التأثير الأزرق عند اللمس */
        }

        @media (max-width: 555px) {
            .media-counter {
                bottom: 95px;
                right: 15px;
                font-size: 11px;
                padding: 3px 13px;
            }
        }

        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(24, 24, 24, 0.336);
            border: none;
            border-radius: 1px;
            width: 41px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            z-index: 1;
        }

        .arrow.left {
            left: 2px;
        }

        .arrow.right {
            right: 2px;
        }

        .arrow svg {
            fill: white;
            width: 30px;
            height: 34px;
        }

        .arrow.disabled {
            background-color: rgba(66, 66, 66, 0.253);
            cursor: not-allowed;
        }

        @media (max-width: 556px) {
            .arrow {
                display: none;
            }
        }


















        @media (max-width: 555px) {
    .gallery {
        flex-direction: column !important;
        align-items: center !important;
        margin-top: 0px !important;
        margin-right: 0 !important;
        padding: 0 !important;
        width: 100% !important;
    }

    .main-media {
        width: 100% !important;
        margin-left: 0 !important;
        margin-bottom: 20px !important;
    }

    .main-media img, .main-media video {
        width: 100% !important;
        height: auto !important;
        aspect-ratio: 1 / 1 !important;
        border: none !important;
        border-radius: 1px !important;
    }

    .placeholder-image {
        width: 100% !important;
        height: auto !important;
        aspect-ratio: 1 / 1 !important;
        background-color: #fafafa !important;
        border: none !important;
        border-radius: 1px !important;
    }

    .thumbnails {
        flex-direction: row !important;
        max-height: none !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        padding-left: 0 !important;
        width: 100% !important;
        white-space: nowrap !important;
        gap: 10px !important;
        margin-bottom: -9px !important;
    }

    .thumbnail {
        margin: 0 !important;
        flex: 0 0 auto !important;
        width: 55px !important;
        height: 55px !important;
    }

    .media-counter {
        bottom: 95px !important;
        right: 15px !important;
        font-size: 11px !important;
        padding: 3px 13px !important;
    }
}

@media (max-width: 556px) {
    .arrow {
        display: none !important;
    }
}



    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
</head>
<body>
    <div class="gallery">
        <div class="main-media">
            <div class="placeholder-image"></div>
            <img id="mainMedia" alt="الصورة الرئيسية">
            <video id="mainVideo" controls style="display: none;">
                <source type="video/mp4">
            </video>
            <button class="share-button bottom" id="shareButton" onclick="sharePage()" style="color: #ffffff;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                </svg>
            </button>
            <button class="arrow left" onclick="prevMedia()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
            </button>
            <button class="arrow right" onclick="nextMedia()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" />
                </svg>
            </button>
        </div>
        <div class="media-counter">
            منتج <span id="currentMedia">1</span>/<span id="totalMedia">0</span>
        </div>
        <div class="thumbnails" id="thumbnailsContainer">
            <!-- سيتم إضافة المصغرات الاحتياطية هنا -->
        </div>
    </div>

    <script>



//سكريبت اخفاء الصور المصغرة

function updateMainMedia(thumbnail) {
    const placeholderImage = document.querySelector('.placeholder-image');
    const mainImage = document.getElementById('mainMedia');
    const mainVideo = document.getElementById('mainVideo');
    const shareButton = document.getElementById('shareButton');
    const mediaCounter = document.querySelector('.media-counter');
    const src = thumbnail.getAttribute('data-src');
    const type = thumbnail.getAttribute('data-type');

    // إخفاء جميع عناصر التحميل التي قد تكون مرئية
    document.querySelectorAll('.thumbnail.loading').forEach(thumb => {
        thumb.classList.remove('loading');
    });

    // تحديث حالة أيقونة التشغيل للفيديو السابق
    if (videoIsPlaying) {
        updateAllVideoThumbnails();
    }

    // إظهار الصورة الرمادية وإخفاء عداد الصور أثناء التحميل
    placeholderImage.style.display = 'block';
    mediaCounter.style.display = 'none';

    if (type === 'image') {
        mainImage.src = src;
        mainImage.style.display = 'block';
        mainVideo.style.display = 'none';
        mainVideo.pause();
        videoIsPlaying = false;
        shareButton.style.display = 'flex';
        
        // إزالة الصورة الرمادية وإظهار عداد الصور بعد اكتمال التحميل
        mainImage.onload = function() {
            placeholderImage.style.display = 'none';
            mediaCounter.style.display = 'flex';
        };
    } else if (type === 'video') {
        mainVideo.querySelector('source').src = src;
        mainVideo.load();
        mainVideo.style.display = 'block';
        mainImage.style.display = 'none';
        shareButton.style.display = 'none';
        
        // إزالة الصورة الرمادية بعد اكتمال تحميل الفيديو
        mainVideo.onloadedmetadata = function() {
            placeholderImage.style.display = 'none';
        };
    }
}

//نهاية سكريبت اخفاء تحميل الصور المصغرة











        let videoIsPlaying = false;
        // إنشاء مصغرات احتياطية فارغة فورًا
        function createPlaceholderThumbnails(count = 5) {
            const thumbnailsContainer = document.getElementById('thumbnailsContainer');
            for (let i = 0; i < count; i++) {
                const thumbnail = document.createElement('div');
                thumbnail.classList.add('thumbnail', 'loading');
                if (i === 0) thumbnail.classList.add('active');
                thumbnailsContainer.appendChild(thumbnail);
            }
            
            // تحديث العداد بالقيم الافتراضية
            document.getElementById('totalMedia').textContent = count;
            document.getElementById('currentMedia').textContent = '1';
        }
        
        function calculateTotalMedia() {
            const totalMedia = document.querySelectorAll('.thumbnail').length;
            document.getElementById('totalMedia').textContent = totalMedia;
        }

        function updateCurrentMedia() {
            const thumbnails = document.querySelectorAll('.thumbnail');
            let currentIndex = 0;
            thumbnails.forEach((thumb, index) => {
                if (thumb.classList.contains('active')) {
                    currentIndex = index + 1;
                }
            });
            document.getElementById('currentMedia').textContent = currentIndex;
            updateArrowState(currentIndex, thumbnails.length);
            scrollThumbnailIntoView();
        }

        function scrollThumbnailIntoView() {
            const activeThumbnail = document.querySelector('.thumbnail.active');
            if (activeThumbnail) {
                activeThumbnail.scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest',
                    inline: 'center'
                });
            }
        }

        function updateMainMedia(thumbnail) {
            const placeholderImage = document.querySelector('.placeholder-image');
            const mainImage = document.getElementById('mainMedia');
            const mainVideo = document.getElementById('mainVideo');
            const shareButton = document.getElementById('shareButton');
            const mediaCounter = document.querySelector('.media-counter');
            const src = thumbnail.getAttribute('data-src');
            const type = thumbnail.getAttribute('data-type');

            // تحديث حالة أيقونة التشغيل للفيديو السابق
            if (videoIsPlaying) {
                updateAllVideoThumbnails();
            }

            // إظهار الصورة الرمادية وإخفاء عداد الصور أثناء التحميل
            placeholderImage.style.display = 'block';
            mediaCounter.style.display = 'none';

            if (type === 'image') {
                mainImage.src = src;
                mainImage.style.display = 'block';
                mainVideo.style.display = 'none';
                mainVideo.pause();
                videoIsPlaying = false;
                shareButton.style.display = 'flex';
                
                // إزالة الصورة الرمادية وإظهار عداد الصور بعد اكتمال التحميل
                mainImage.onload = function() {
                    placeholderImage.style.display = 'none';
                    mediaCounter.style.display = 'flex';
                };
            } else if (type === 'video') {
                mainVideo.querySelector('source').src = src;
                mainVideo.load();
                mainVideo.style.display = 'block';
                mainImage.style.display = 'none';
                shareButton.style.display = 'none';
                
                // إزالة الصورة الرمادية بعد اكتمال تحميل الفيديو
                mainVideo.onloadedmetadata = function() {
                    placeholderImage.style.display = 'none';
                };
            }
        }

        function updateAllVideoThumbnails() {
            // تحديث جميع المصغرات الفيديو وفقًا لحالة التشغيل
            const videoThumbnails = document.querySelectorAll('.thumbnail[data-type="video"]');
            videoThumbnails.forEach(thumb => {
                updatePlayIcon(thumb, videoIsPlaying);
            });
        }

        function updatePlayIcon(thumbnail, isPlaying) {
            const playIcon = thumbnail.querySelector('.play-icon svg');
            if (playIcon) {
                if (isPlaying) {
                    playIcon.innerHTML = `<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>`;
                } else {
                    playIcon.innerHTML = `<path d="M8 5v14l11-7z"/>`;
                }
            }
        }

        // إنشاء مصغرات احتياطية فورًا عندما يتم تحميل المستند
        document.addEventListener('DOMContentLoaded', function() {
            // عرض المصغرات الاحتياطية فورًا
            createPlaceholderThumbnails();
            
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            if (productId) {
                const productsPerFile = 100;
                const fileIndex = Math.ceil(parseInt(productId) / productsPerFile);
                const jsonFile = `products-${fileIndex}.json`;

                fetch(jsonFile)
                    .then(response => {
                        if (!response.ok) throw new Error('الملف غير موجود');
                        return response.json();
                    })
                    .then(products => {
                        const product = products.find(p => p.id === productId);
                        if (!product || !product.media) {
                            console.error('المنتج أو الوسائط غير موجودة');
                            return;
                        }

                        // مسح المصغرات الاحتياطية
                        const thumbnailsContainer = document.querySelector('.thumbnails');
                        thumbnailsContainer.innerHTML = '';
                        
                        product.media.forEach((mediaItem, index) => {
                            const thumbnail = document.createElement('div');
                            thumbnail.classList.add('thumbnail', 'loading');
                            if (index === 0) thumbnail.classList.add('active');
                            thumbnail.setAttribute('data-src', mediaItem.src);
                            thumbnail.setAttribute('data-type', mediaItem.type);

                            if (mediaItem.type === 'video') {
                                const video = document.createElement('video');
                                video.src = mediaItem.src;
                                const playIcon = document.createElement('div');
                                playIcon.classList.add('play-icon');
                                playIcon.innerHTML = `
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                `;
                                thumbnail.appendChild(video);
                                thumbnail.appendChild(playIcon);
                                
                                // إزالة فئة التحميل فور تحميل بيانات الفيديو
                                video.onloadedmetadata = function() {
                                    thumbnail.classList.remove('loading');
                                };
                            } else {
                                const img = document.createElement('img');
                                img.src = mediaItem.src;
                                img.alt = 'صورة';
                                thumbnail.appendChild(img);
                                
                                // إزالة فئة التحميل فور تحميل الصورة
                                img.onload = function() {
                                    thumbnail.classList.remove('loading');
                                };
                            }
                            thumbnailsContainer.appendChild(thumbnail);

                            thumbnail.addEventListener('click', () => {
                                document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
                                thumbnail.classList.add('active');
                                updateMainMedia(thumbnail);
                                setTimeout(updateCurrentMedia, 100);
                            });
                        });

                        calculateTotalMedia();
                        updateCurrentMedia();
                        const initialThumbnail = document.querySelector('.thumbnail.active');
                        updateMainMedia(initialThumbnail);

                        const mainVideo = document.getElementById('mainVideo');
                        mainVideo.addEventListener('play', () => {
                            videoIsPlaying = true;
                            updateAllVideoThumbnails();
                        });
                        mainVideo.addEventListener('pause', () => {
                            videoIsPlaying = false;
                            updateAllVideoThumbnails();
                        });

                        // إعداد Hammer.js للتمرير من اليسار إلى اليمين - تم تعديل هذا الجزء
                        const mainMediaContainer = document.querySelector('.main-media');
                        const hammer = new Hammer(mainMediaContainer);
                        hammer.on('swipeleft', function() {
                            if (!isSwiping) {
                                isSwiping = true;
                                prevMedia(); // تم تغيير هذا من nextMedia إلى prevMedia
                                setTimeout(() => { isSwiping = false; }, 300);
                            }
                        });
                        hammer.on('swiperight', function() {
                            if (!isSwiping) {
                                isSwiping = true;
                                nextMedia(); // تم تغيير هذا من prevMedia إلى nextMedia
                                setTimeout(() => { isSwiping = false; }, 300);
                            }
                        });
                    })
                    .catch(error => console.error('خطأ في جلب البيانات:', error));
            } else {
                console.error('يرجى تحديد معرف المنتج في URL');
            }
        });

        function nextMedia() {
            if (isSwiping) return;
            isSwiping = true;
            const thumbnails = document.querySelectorAll('.thumbnail');
            let currentIndex = -1;
            thumbnails.forEach((thumb, index) => {
                if (thumb.classList.contains('active')) {
                    currentIndex = index;
                }
            });
            if (currentIndex < thumbnails.length - 1) {
                thumbnails[currentIndex].classList.remove('active');
                thumbnails[currentIndex + 1].classList.add('active');
                updateMainMedia(thumbnails[currentIndex + 1]);
                setTimeout(updateCurrentMedia, 100);
            }
            setTimeout(() => { isSwiping = false; }, 300);
        }

        function prevMedia() {
            if (isSwiping) return;
            isSwiping = true;
            const thumbnails = document.querySelectorAll('.thumbnail');
            let currentIndex = -1;
            thumbnails.forEach((thumb, index) => {
                if (thumb.classList.contains('active')) {
                    currentIndex = index;
                }
            });
            if (currentIndex > 0) {
                thumbnails[currentIndex].classList.remove('active');
                thumbnails[currentIndex - 1].classList.add('active');
                updateMainMedia(thumbnails[currentIndex - 1]);
                setTimeout(updateCurrentMedia, 100);
            }
            setTimeout(() => { isSwiping = false; }, 300);
        }

        function sharePage() {
            if (navigator.share) {
                navigator.share({
                    title: document.title,
                    url: window.location.href
                }).catch(err => console.log('Error sharing:', err));
            } else {
                console.log('Web Share API not supported');
            }
        }

        function updateArrowState(currentIndex, totalMedia) {
            const leftArrow = document.querySelector('.arrow.left');
            const rightArrow = document.querySelector('.arrow.right');

            if (currentIndex === 1) {
                leftArrow.classList.add('disabled');
            } else {
                leftArrow.classList.remove('disabled');
            }

            if (currentIndex === totalMedia) {
                rightArrow.classList.add('disabled');
            } else {
                rightArrow.classList.remove('disabled');
            }
        }
    </script>
</body>
</html>





